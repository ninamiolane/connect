Questions on data formats

# Note: CSC 1: reference electrodes, data are differences.
# QUESTION: What is the deal with the Channel Number and 50863 bad elements after CSC1?
# -> Eric (thesard), Alex (postdoc)
# QUESTION: What is the deal with NumValidSamples and could we use it to eliminate some samples?
# --> Is it a sign of saturation?
    # TODO(nina): Look if # of removed data bcs of saturation is the same as valid samples?


# QUESTION: Why is there nothing in the _0001.ncs files? What are they here for?
# QUESTION: Why if raw['Samples'] of shape (n, 512), what are the 512 for? It seems to be Cheetah specs.
# QUESTION: Is it ok to "ravel" the 512 columns, i.e. to flatten the array row by row?
# TODO(nina): load samples with the timestamps

on NVT:
# QUESTION: Why is there less time steps than raw data? len(nvt_raw['TimeStamp']) != len(nvt_raw['extracted_x'])

On removing extreme amplitudes:
    # QUESTION: Compute min and max per electrode or across all electrodes? -> par electrode
    # QUESTION/VERIFICATION: Extreme amplitudes, after the filters, correspond to previous mice's bumps?


Saturation / flateness are:
    # TODO(nina): Is this information in ValidSample field?

# Profil du neurone: choper le spike, + average
# trouver combien de neurones par electrode
# PCA pour un neurone. profil spike de 1 neurones est decrit par 30 parameters, on en cherche moins.
# Profil du spike d'une electrode depend de somme de champ electriques
# PCA sur quoi? sur la suite d'amplitudes au moment du peak? correlation temporelle?


# Second try with usual Pearson (?) correlation (may not be suited for signals)
# TODO(nina): Compare with matrix of distances between electrodes?
# TODO(nina): Investigate our to compute the correlation suited for signals

# TODO(nina): Too conservative for peaks (some are missing?)? amplitude values?

NVT:
    # QUESTION: Why is there less time steps than raw data? len(nvt_raw['TimeStamp']) != len(nvt_raw['extracted_x'])

# TODO(nina): Look at this https://github.com/vandermeerlab/nept/blob/master/nept/loaders_neuralynx.py

